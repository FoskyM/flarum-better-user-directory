{"version":3,"file":"forum.js","mappings":"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","sources":["webpack://@foskym/flarum-better-user-directory/webpack/bootstrap","webpack://@foskym/flarum-better-user-directory/webpack/runtime/compat get default export","webpack://@foskym/flarum-better-user-directory/webpack/runtime/define property getters","webpack://@foskym/flarum-better-user-directory/webpack/runtime/hasOwnProperty shorthand","webpack://@foskym/flarum-better-user-directory/external root \"flarum.core.compat['common/app']\"","webpack://@foskym/flarum-better-user-directory/./src/common/index.ts","webpack://@foskym/flarum-better-user-directory/external root \"flarum.core.compat['forum/app']\"","webpack://@foskym/flarum-better-user-directory/external root \"flarum.core.compat['common/extend']\"","webpack://@foskym/flarum-better-user-directory/external root \"flarum.core.compat['common/components/Button']\"","webpack://@foskym/flarum-better-user-directory/external root \"flarum.core.compat['common/components/LoadingIndicator']\"","webpack://@foskym/flarum-better-user-directory/external root \"flarum.core.compat['common/components/Placeholder']\"","webpack://@foskym/flarum-better-user-directory/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://@foskym/flarum-better-user-directory/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@foskym/flarum-better-user-directory/external root \"flarum.core.compat['common/Component']\"","webpack://@foskym/flarum-better-user-directory/external root \"flarum.core.compat['forum/components/UserCard']\"","webpack://@foskym/flarum-better-user-directory/external root \"flarum.core.compat['common/utils/ItemList']\"","webpack://@foskym/flarum-better-user-directory/external root \"flarum.core.compat['common/utils/humanTime']\"","webpack://@foskym/flarum-better-user-directory/./src/forum/components/PodiumUserCard.tsx","webpack://@foskym/flarum-better-user-directory/./src/forum/components/PodiumUserItem.tsx","webpack://@foskym/flarum-better-user-directory/external root \"flarum.core.compat['forum/utils/UserControls']\"","webpack://@foskym/flarum-better-user-directory/external root \"flarum.core.compat['common/helpers/avatar']\"","webpack://@foskym/flarum-better-user-directory/external root \"flarum.core.compat['common/helpers/username']\"","webpack://@foskym/flarum-better-user-directory/external root \"flarum.core.compat['common/components/Dropdown']\"","webpack://@foskym/flarum-better-user-directory/external root \"flarum.core.compat['common/components/Link']\"","webpack://@foskym/flarum-better-user-directory/external root \"flarum.core.compat['forum/components/AvatarEditor']\"","webpack://@foskym/flarum-better-user-directory/external root \"flarum.core.compat['common/helpers/listItems']\"","webpack://@foskym/flarum-better-user-directory/external root \"flarum.core.compat['common/utils/classList']\"","webpack://@foskym/flarum-better-user-directory/./src/forum/components/OrderUserCard.tsx","webpack://@foskym/flarum-better-user-directory/./src/forum/index.tsx"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/app'];","import app from 'flarum/common/app';\n\napp.initializers.add('foskym/flarum-better-user-directory', () => {\n  console.log('[foskym/flarum-better-user-directory] Hello, forum and admin!');\n});\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/app'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/extend'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Button'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/LoadingIndicator'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Placeholder'];","function _setPrototypeOf(t, e) {\n  return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {\n    return t.__proto__ = e, t;\n  }, _setPrototypeOf(t, e);\n}\nexport { _setPrototypeOf as default };","import setPrototypeOf from \"./setPrototypeOf.js\";\nfunction _inheritsLoose(t, o) {\n  t.prototype = Object.create(o.prototype), t.prototype.constructor = t, setPrototypeOf(t, o);\n}\nexport { _inheritsLoose as default };","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/Component'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/UserCard'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/ItemList'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/humanTime'];","import UserCard from 'flarum/forum/components/UserCard';\r\nimport ItemList from 'flarum/common/utils/ItemList';\r\nimport humanTime from 'flarum/common/utils/humanTime';\r\n\r\nexport default class PodiumUserCard extends UserCard {\r\n  //Overriding infoItems so that other extensions can separately add items to small cards\r\n  infoItems() {\r\n    const superItems = super.infoItems();\r\n    console.log(superItems);\r\n    const items = new ItemList();\r\n    const user = this.attrs.user;\r\n\r\n    items.add('joined', app.translator.trans('core.forum.user.joined_date_text', { ago: humanTime(user.joinTime()) }));\r\n\r\n    return items;\r\n  }\r\n}","import ItemList from 'flarum/common/utils/ItemList';\r\nimport icon from 'flarum/common/helpers/icon';\r\nimport app from 'flarum/forum/app';\r\nimport Component from 'flarum/common/Component';\r\nimport avatar from 'flarum/common/helpers/avatar';\r\nimport username from 'flarum/common/helpers/username';\r\nimport PodiumUserCard from './PodiumUserCard';\r\n\r\nexport default class PodiumUserItem extends Component {\r\n  view() {\r\n    const user = this.attrs.user;\r\n    const position = this.attrs.position;\r\n\r\n    let positionClass = '';\r\n    let displayPosition = position;\r\n    if (position === 1) {\r\n      positionClass = 'second';\r\n      displayPosition = 2;\r\n    } else if (position === 2) {\r\n      positionClass = 'first';\r\n      displayPosition = 1;\r\n    } else if (position === 3) {\r\n      positionClass = 'third';\r\n    }\r\n\r\n    return (\r\n      <div>\r\n        <div className=\"PodiumUser-card\">\r\n          {PodiumUserCard.component({\r\n            user,\r\n            className: 'UserCard--directory UserCard--podium',\r\n            controlsButtonClassName: 'Button Button--icon Button--flat',\r\n            position,\r\n          })}\r\n        </div>\r\n\r\n        <span className={`PodiumUser-position ${positionClass}`}>{displayPosition}</span>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/utils/UserControls'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/helpers/avatar'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/helpers/username'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Dropdown'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Link'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/AvatarEditor'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/helpers/listItems'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/classList'];","import app from 'flarum/common/app';\r\nimport UserCard from 'flarum/forum/components/UserCard';\r\nimport ItemList from 'flarum/common/utils/ItemList';\r\nimport humanTime from 'flarum/common/utils/humanTime';\r\nimport Component from 'flarum/common/Component';\r\nimport UserControls from 'flarum/forum/utils/UserControls';\r\nimport avatar from 'flarum/common/helpers/avatar';\r\nimport username from 'flarum/common/helpers/username';\r\nimport icon from 'flarum/common/helpers/icon';\r\nimport Dropdown from 'flarum/common/components/Dropdown';\r\nimport Link from 'flarum/common/components/Link';\r\nimport AvatarEditor from 'flarum/forum/components/AvatarEditor';\r\nimport listItems from 'flarum/common/helpers/listItems';\r\nimport classList from 'flarum/common/utils/classList';\r\n\r\nexport default class OrderUserCard extends UserCard {\r\n  view() {\r\n    const user = this.attrs.user;\r\n    const controls = UserControls.controls(user, this).toArray();\r\n    const color = user.color();\r\n    const badges = user.badges().toArray();\r\n    const position = this.attrs.position;\r\n\r\n    return (\r\n      <div className={classList('UserCard UserCard--order', this.attrs.className)} style={color && { '--usercard-bg': color }}>\r\n        <div className=\"darkenBackground\">\r\n          <div className=\"container\">\r\n            {!!controls.length && (\r\n              <Dropdown\r\n                className=\"UserCard-controls App-primaryControl\"\r\n                menuClassName=\"Dropdown-menu--right\"\r\n                buttonClassName={this.attrs.controlsButtonClassName}\r\n                label={app.translator.trans('core.forum.user_controls.button')}\r\n                accessibleToggleLabel={app.translator.trans('core.forum.user_controls.toggle_dropdown_accessible_label')}\r\n                icon=\"fas fa-ellipsis-v\"\r\n              >\r\n                {controls}\r\n              </Dropdown>\r\n            )}\r\n            \r\n            <div className=\"UserCard--order-position\">{position}</div>\r\n\r\n            <div className=\"UserCard-profile\">\r\n              <h1 className=\"UserCard-identity\">\r\n                {this.attrs.editable ? (\r\n                  <>\r\n                    <AvatarEditor user={user} className=\"UserCard-avatar\" /> {username(user)}\r\n                  </>\r\n                ) : (\r\n                  <Link href={app.route.user(user)}>\r\n                    <div className=\"UserCard-avatar\">{avatar(user, { loading: 'eager' })}</div>\r\n                    {username(user)}\r\n                  </Link>\r\n                )}\r\n              </h1>\r\n\r\n              {!!badges.length && <ul className=\"UserCard-badges badges\">{listItems(badges)}</ul>}\r\n\r\n              <ul className=\"UserCard-info\">{listItems(this.infoItems().toArray())}</ul>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  infoItems() {\r\n    const superItems = super.infoItems();\r\n    console.log(superItems);\r\n    const items = new ItemList();\r\n    const user = this.attrs.user;\r\n\r\n    items.add('joined', app.translator.trans('core.forum.user.joined_date_text', { ago: humanTime(user.joinTime()) }));\r\n\r\n    return items;\r\n  }\r\n}\r\n","import app from 'flarum/forum/app';\nimport { override, extend } from 'flarum/common/extend';\nimport Component from 'flarum/common/Component';\nimport Button from 'flarum/common/components/Button';\nimport LoadingIndicator from 'flarum/common/components/LoadingIndicator';\nimport Placeholder from 'flarum/common/components/Placeholder';\nimport PodiumUserItem from './components/PodiumUserItem';\nimport OrderUserCard from './components/OrderUserCard';\n\napp.initializers.add('foskym/flarum-better-user-directory', () => {\n  if ('fof-user-directory' in flarum.extensions) {\n    const UserDirectoryPage = flarum.extensions['fof-user-directory']?.UserDirectoryPage as any;\n    extend(UserDirectoryPage.prototype, 'viewItems', function (items) {\n      items.remove('search');\n      items.remove('filterGroups');\n    });\n\n    const components = flarum.extensions['fof-user-directory']?.components as any;\n\n    const UserDirectoryUserCard = components?.UserDirectoryUserCard as any;\n    const SmallUserCard = components?.SmallUserCard as any;\n\n    const UserDirectoryListItem = flarum.extensions['fof-user-directory']?.UserDirectoryListItem as any;\n    override(UserDirectoryListItem.prototype, 'view', function (original) {\n      const { user, useSmallCards, isPodium, position } = this.attrs;\n\n      const attributes = {\n        user,\n        className: `UserCard--directory${useSmallCards ? ' UserCard--small' : ''}`,\n        controlsButtonClassName: 'Button Button--icon Button--flat',\n        position\n      };\n\n      if (isPodium) {\n        return <div className=\"User\">{PodiumUserItem.component(attributes)}</div>;\n      }\n\n      return <div className=\"User\">{OrderUserCard.component(attributes)}</div>;\n\n      return <div className=\"User\">{useSmallCards ? SmallUserCard.component(attributes) : UserDirectoryUserCard.component(attributes)}</div>;\n    });\n\n    const UserDirectoryList = flarum.extensions['fof-user-directory']?.UserDirectoryList as any;\n    override(UserDirectoryList.prototype, 'view', function (original) {\n      const { state } = this.attrs;\n\n      const params = state.getParams();\n      const useSmallCards = app.forum.attribute('userDirectorySmallCards');\n      let loading;\n\n      if (state.isLoading()) {\n        loading = LoadingIndicator.component();\n      } else if (state.moreResults) {\n        loading = Button.component(\n          {\n            className: 'Button',\n            onclick: state.loadMore.bind(state),\n          },\n          app.translator.trans('fof-user-directory.forum.page.load_more_button')\n        );\n      }\n\n      if (state.empty()) {\n        const text = app.translator.trans('fof-user-directory.forum.page.empty_text');\n        return <div className=\"DiscussionList\">{Placeholder.component({ text })}</div>;\n      }\n\n      let podiumUsers = state.users.slice(0, 3);\n      let remainingUsers = state.users.slice(3);\n      if (podiumUsers.length >= 2) {\n        [podiumUsers[0], podiumUsers[1]] = [podiumUsers[1], podiumUsers[0]];\n      }\n\n      return (\n        <div\n          className={\n            'UserDirectoryList' +\n            (state.isSearchResults() ? ' UserDirectoryList--searchResults' : '') +\n            (useSmallCards ? ' UserDirectoryList--small-cards' : '')\n          }\n        >\n          <ul className=\"UserDirectoryList-Podium-users\">\n            {podiumUsers.map((user: any, index: number) => {\n              return (\n                <li key={user.id()} data-id={user.id()}>\n                  {UserDirectoryListItem.component({ user, params, useSmallCards, isPodium: true, position: index + 1 })}\n                </li>\n              );\n            })}\n          </ul>\n          <ul className=\"UserDirectoryList-users\">\n            {remainingUsers.map((user: any, index: number) => {\n              return (\n                <li key={user.id()} data-id={user.id()}>\n                  {UserDirectoryListItem.component({ user, params, useSmallCards, isPodium: false, position: index + 4 })}\n                </li>\n              );\n            })}\n          </ul>\n          <div className=\"UserDirectoryList-loadMore\">{loading}</div>\n        </div>\n      );\n    });\n  }\n});\n"],"names":["__webpack_require__","module","getter","__esModule","d","a","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","flarum","core","compat","app","add","console","log","_setPrototypeOf","t","e","setPrototypeOf","bind","__proto__","_inheritsLoose","create","constructor","PodiumUserCard","_UserCard","apply","arguments","infoItems","superItems","items","ItemList","user","this","attrs","translator","trans","ago","humanTime","joinTime","UserCard","PodiumUserItem","_Component","view","position","positionClass","displayPosition","m","className","component","controlsButtonClassName","Component","OrderUserCard","_proto","controls","UserControls","toArray","color","badges","classList","style","length","Dropdown","menuClassName","buttonClassName","label","accessibleToggleLabel","icon","editable","'['","AvatarEditor","username","Link","href","avatar","loading","listItems","extensions","_flarum$extensions$fo","_flarum$extensions$fo2","_flarum$extensions$fo3","_flarum$extensions$fo4","UserDirectoryPage","extend","remove","components","UserDirectoryListItem","UserDirectoryUserCard","SmallUserCard","override","original","_this$attrs","useSmallCards","isPodium","attributes","UserDirectoryList","state","params","getParams","attribute","isLoading","LoadingIndicator","moreResults","Button","onclick","loadMore","empty","text","Placeholder","podiumUsers","users","slice","remainingUsers","_ref","isSearchResults","map","index","id"],"sourceRoot":""}