{"version":3,"file":"forum.js","mappings":"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","sources":["webpack://@foskym/flarum-better-user-directory/webpack/bootstrap","webpack://@foskym/flarum-better-user-directory/webpack/runtime/compat get default export","webpack://@foskym/flarum-better-user-directory/webpack/runtime/define property getters","webpack://@foskym/flarum-better-user-directory/webpack/runtime/hasOwnProperty shorthand","webpack://@foskym/flarum-better-user-directory/external root \"flarum.core.compat['common/app']\"","webpack://@foskym/flarum-better-user-directory/./src/common/index.ts","webpack://@foskym/flarum-better-user-directory/external root \"flarum.core.compat['forum/app']\"","webpack://@foskym/flarum-better-user-directory/external root \"flarum.core.compat['common/extend']\"","webpack://@foskym/flarum-better-user-directory/external root \"flarum.core.compat['common/components/Button']\"","webpack://@foskym/flarum-better-user-directory/external root \"flarum.core.compat['common/components/LoadingIndicator']\"","webpack://@foskym/flarum-better-user-directory/external root \"flarum.core.compat['common/components/Placeholder']\"","webpack://@foskym/flarum-better-user-directory/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://@foskym/flarum-better-user-directory/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@foskym/flarum-better-user-directory/external root \"flarum.core.compat['common/Component']\"","webpack://@foskym/flarum-better-user-directory/external root \"flarum.core.compat['forum/components/UserCard']\"","webpack://@foskym/flarum-better-user-directory/external root \"flarum.core.compat['common/utils/ItemList']\"","webpack://@foskym/flarum-better-user-directory/external root \"flarum.core.compat['common/helpers/icon']\"","webpack://@foskym/flarum-better-user-directory/./src/forum/utils/sortItem.ts","webpack://@foskym/flarum-better-user-directory/./src/forum/components/PodiumUserCard.tsx","webpack://@foskym/flarum-better-user-directory/./src/forum/components/PodiumUserItem.tsx","webpack://@foskym/flarum-better-user-directory/external root \"flarum.core.compat['forum/utils/UserControls']\"","webpack://@foskym/flarum-better-user-directory/external root \"flarum.core.compat['common/helpers/avatar']\"","webpack://@foskym/flarum-better-user-directory/external root \"flarum.core.compat['common/helpers/username']\"","webpack://@foskym/flarum-better-user-directory/external root \"flarum.core.compat['common/components/Dropdown']\"","webpack://@foskym/flarum-better-user-directory/external root \"flarum.core.compat['common/components/Link']\"","webpack://@foskym/flarum-better-user-directory/external root \"flarum.core.compat['forum/components/AvatarEditor']\"","webpack://@foskym/flarum-better-user-directory/external root \"flarum.core.compat['common/helpers/listItems']\"","webpack://@foskym/flarum-better-user-directory/external root \"flarum.core.compat['common/utils/classList']\"","webpack://@foskym/flarum-better-user-directory/./src/forum/components/OrderUserCard.tsx","webpack://@foskym/flarum-better-user-directory/./src/forum/index.tsx"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/app'];","import app from 'flarum/common/app';\n\napp.initializers.add('foskym/flarum-better-user-directory', () => {\n  console.log('[foskym/flarum-better-user-directory] Hello, forum and admin!');\n});\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/app'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/extend'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Button'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/LoadingIndicator'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Placeholder'];","function _setPrototypeOf(t, e) {\n  return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {\n    return t.__proto__ = e, t;\n  }, _setPrototypeOf(t, e);\n}\nexport { _setPrototypeOf as default };","import setPrototypeOf from \"./setPrototypeOf.js\";\nfunction _inheritsLoose(t, o) {\n  t.prototype = Object.create(o.prototype), t.prototype.constructor = t, setPrototypeOf(t, o);\n}\nexport { _inheritsLoose as default };","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/Component'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/UserCard'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/ItemList'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/helpers/icon'];","export const sortItem = {\r\n  joined: ['', 'username_az', 'username_za', 'newest', 'oldest', 'nickname_az', 'nickname_za', 'most_groups_count'],\r\n  'custom-levels': ['most_exp', 'least_exp'],\r\n  'discussion-count': ['most_discussions', 'least_discussions'],\r\n  'best-answer-count': ['most_best_answers', 'least_best_answers'],\r\n  'monthly-comment-count': ['most_monthly_comments', 'least_monthly_comments'],\r\n  'monthly-discussion-count': ['most_monthly_discussions', 'least_monthly_discussions'],\r\n  lastSeen: ['recently_seen', 'least_recently_seen', 'recently_checkin', 'most_total_checkin', 'most_total_continuous_checkin'],\r\n  'comment-count': ['most_comments', 'least_comments'],\r\n  money: ['most_money', 'least_money'],\r\n  likesReceived: ['most_likes_received', 'least_likes_received'],\r\n  badges: ['most_badges_count', 'least_badges_count'],\r\n};\r\n","import app from 'flarum/common/app';\r\nimport UserCard from 'flarum/forum/components/UserCard';\r\nimport ItemList from 'flarum/common/utils/ItemList';\r\nimport humanTime from 'flarum/common/utils/humanTime';\r\nimport Component from 'flarum/common/Component';\r\nimport icon from 'flarum/common/helpers/icon';\r\nimport { sortItem } from '../utils/sortItem';\r\n\r\nexport default class PodiumUserCard extends UserCard {\r\n  //Overriding infoItems so that other extensions can separately add items to small cards\r\n  infoItems() {\r\n    const items = new ItemList();\r\n    const user = this.attrs.user;\r\n    const params = this.attrs.params;\r\n    const sort = params.sort || '';\r\n\r\n    const superItems = super.infoItems();\r\n    superItems.add(\r\n      'discussion-count',\r\n      <div className=\"userStat\">\r\n        {icon('fas fa-comment')}\r\n        {app.translator.trans('fof-user-directory.forum.page.usercard.discussion-count', {\r\n          count: user.discussionCount(),\r\n        })}\r\n      </div>,\r\n      70\r\n    );\r\n\r\n    superItems.add(\r\n      'comment-count',\r\n      <div className=\"userStat\">\r\n        {icon('fas fa-comments')}\r\n        {app.translator.trans('fof-user-directory.forum.page.usercard.post-count', {\r\n          count: user.commentCount(),\r\n        })}\r\n      </div>,\r\n      69\r\n    );\r\n\r\n    for (const key in sortItem) {\r\n      if (sortItem[key].includes(sort)) {\r\n        if (superItems.has(key)) {\r\n          items.add(key, superItems.get(key));\r\n        }\r\n      }\r\n    }\r\n\r\n    return items;\r\n  }\r\n}\r\n","import ItemList from 'flarum/common/utils/ItemList';\r\nimport icon from 'flarum/common/helpers/icon';\r\nimport app from 'flarum/forum/app';\r\nimport Component from 'flarum/common/Component';\r\nimport avatar from 'flarum/common/helpers/avatar';\r\nimport username from 'flarum/common/helpers/username';\r\nimport PodiumUserCard from './PodiumUserCard';\r\n\r\nexport default class PodiumUserItem extends Component {\r\n  view() {\r\n    const user = this.attrs.user;\r\n    const position = this.attrs.position;\r\n    const params = this.attrs.params;\r\n\r\n    let positionClass = '';\r\n    let displayPosition = position;\r\n    if (position === 1) {\r\n      positionClass = 'second';\r\n      displayPosition = 2;\r\n    } else if (position === 2) {\r\n      positionClass = 'first';\r\n      displayPosition = 1;\r\n    } else if (position === 3) {\r\n      positionClass = 'third';\r\n    }\r\n\r\n    return (\r\n      <div>\r\n        <div className=\"PodiumUser-card\">\r\n          {PodiumUserCard.component({\r\n            user,\r\n            className: 'UserCard--directory UserCard--podium',\r\n            controlsButtonClassName: 'Button Button--icon Button--flat',\r\n            position,\r\n            params\r\n          })}\r\n        </div>\r\n\r\n        <span className={`PodiumUser-position ${positionClass}`}>{displayPosition}</span>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/utils/UserControls'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/helpers/avatar'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/helpers/username'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Dropdown'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Link'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/AvatarEditor'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/helpers/listItems'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/classList'];","import app from 'flarum/common/app';\r\nimport UserCard from 'flarum/forum/components/UserCard';\r\nimport ItemList from 'flarum/common/utils/ItemList';\r\nimport humanTime from 'flarum/common/utils/humanTime';\r\nimport Component from 'flarum/common/Component';\r\nimport UserControls from 'flarum/forum/utils/UserControls';\r\nimport avatar from 'flarum/common/helpers/avatar';\r\nimport username from 'flarum/common/helpers/username';\r\nimport icon from 'flarum/common/helpers/icon';\r\nimport Dropdown from 'flarum/common/components/Dropdown';\r\nimport Link from 'flarum/common/components/Link';\r\nimport AvatarEditor from 'flarum/forum/components/AvatarEditor';\r\nimport listItems from 'flarum/common/helpers/listItems';\r\nimport classList from 'flarum/common/utils/classList';\r\nimport { sortItem } from '../utils/sortItem';\r\n\r\nexport default class OrderUserCard extends UserCard {\r\n  view() {\r\n    const user = this.attrs.user;\r\n    const controls = UserControls.controls(user, this).toArray();\r\n    const color = user.color();\r\n    const badges = user.badges().toArray();\r\n    const position = this.attrs.position;\r\n\r\n    return (\r\n      <div className={classList('UserCard UserCard--order', this.attrs.className)} style={color && { '--usercard-bg': color }}>\r\n        <div className=\"darkenBackground\">\r\n          <div className=\"container\">\r\n            {!!controls.length && (\r\n              <Dropdown\r\n                className=\"UserCard-controls App-primaryControl\"\r\n                menuClassName=\"Dropdown-menu--right\"\r\n                buttonClassName={this.attrs.controlsButtonClassName}\r\n                label={app.translator.trans('core.forum.user_controls.button')}\r\n                accessibleToggleLabel={app.translator.trans('core.forum.user_controls.toggle_dropdown_accessible_label')}\r\n                icon=\"fas fa-ellipsis-v\"\r\n              >\r\n                {controls}\r\n              </Dropdown>\r\n            )}\r\n\r\n            <div className=\"UserCard--order-position\">{position}</div>\r\n\r\n            <div className=\"UserCard-profile\">\r\n              <h1 className=\"UserCard-identity\">\r\n                {this.attrs.editable ? (\r\n                  <>\r\n                    <AvatarEditor user={user} className=\"UserCard-avatar\" /> {username(user)}\r\n                  </>\r\n                ) : (\r\n                  <Link href={app.route.user(user)}>\r\n                    <div className=\"UserCard-avatar\">{avatar(user, { loading: 'eager' })}</div>\r\n                    {username(user)}\r\n                  </Link>\r\n                )}\r\n              </h1>\r\n\r\n              {!!badges.length && <ul className=\"UserCard-badges badges\">{listItems(badges)}</ul>}\r\n\r\n              <ul className=\"UserCard-info\">{listItems(this.infoItems().toArray())}</ul>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  infoItems() {\r\n    const items = new ItemList();\r\n    const user = this.attrs.user;\r\n    const params = this.attrs.params;\r\n    const sort = params.sort || '';\r\n\r\n    const superItems = super.infoItems();\r\n    superItems.add(\r\n      'discussion-count',\r\n      <div className=\"userStat\">\r\n        {icon('fas fa-comment')}\r\n        {app.translator.trans('fof-user-directory.forum.page.usercard.discussion-count', {\r\n          count: user.discussionCount(),\r\n        })}\r\n      </div>,\r\n      70\r\n    );\r\n\r\n    superItems.add(\r\n      'comment-count',\r\n      <div className=\"userStat\">\r\n        {icon('fas fa-comments')}\r\n        {app.translator.trans('fof-user-directory.forum.page.usercard.post-count', {\r\n          count: user.commentCount(),\r\n        })}\r\n      </div>,\r\n      69\r\n    );\r\n\r\n    for (const key in sortItem) {\r\n      if (sortItem[key].includes(sort)) {\r\n        if (superItems.has(key)) {\r\n          items.add(key, superItems.get(key));\r\n        }\r\n      }\r\n    }\r\n\r\n    return superItems;\r\n  }\r\n}\r\n","import app from 'flarum/forum/app';\nimport { override, extend } from 'flarum/common/extend';\nimport Component from 'flarum/common/Component';\nimport Button from 'flarum/common/components/Button';\nimport LoadingIndicator from 'flarum/common/components/LoadingIndicator';\nimport Placeholder from 'flarum/common/components/Placeholder';\nimport PodiumUserItem from './components/PodiumUserItem';\nimport OrderUserCard from './components/OrderUserCard';\n\napp.initializers.add('foskym/flarum-better-user-directory', () => {\n  if ('fof-user-directory' in flarum.extensions) {\n    const UserDirectoryPage = flarum.extensions['fof-user-directory']?.UserDirectoryPage as any;\n    extend(UserDirectoryPage.prototype, 'viewItems', function (items) {\n      if (app.forum.attribute('foskym-better-user-directory.hide_search')) {\n        items.remove('search');\n      }\n      if (app.forum.attribute('foskym-better-user-directory.hide_filter_groups')) {\n        items.remove('filterGroups');\n      }\n    });\n\n    const components = flarum.extensions['fof-user-directory']?.components as any;\n\n    const UserDirectoryUserCard = components?.UserDirectoryUserCard as any;\n    const SmallUserCard = components?.SmallUserCard as any;\n\n    const UserDirectoryListItem = flarum.extensions['fof-user-directory']?.UserDirectoryListItem as any;\n    override(UserDirectoryListItem.prototype, 'view', function (original) {\n      const { user, useSmallCards, isPodium, position, params } = this.attrs;\n\n      const attributes = {\n        user,\n        className: `UserCard--directory${useSmallCards ? ' UserCard--small' : ''}`,\n        controlsButtonClassName: 'Button Button--icon Button--flat',\n        position,\n        params,\n      };\n\n      if (isPodium) {\n        return <div className=\"User\">{PodiumUserItem.component(attributes)}</div>;\n      }\n\n      return <div className=\"User\">{OrderUserCard.component(attributes)}</div>;\n\n      return <div className=\"User\">{useSmallCards ? SmallUserCard.component(attributes) : UserDirectoryUserCard.component(attributes)}</div>;\n    });\n\n    const UserDirectoryList = flarum.extensions['fof-user-directory']?.UserDirectoryList as any;\n    override(UserDirectoryList.prototype, 'view', function (original) {\n      const { state } = this.attrs;\n\n      const params = state.getParams();\n      const useSmallCards = app.forum.attribute('userDirectorySmallCards');\n      let loading;\n\n      if (state.isLoading()) {\n        loading = LoadingIndicator.component();\n      } else if (state.moreResults) {\n        loading = Button.component(\n          {\n            className: 'Button',\n            onclick: state.loadMore.bind(state),\n          },\n          app.translator.trans('fof-user-directory.forum.page.load_more_button')\n        );\n      }\n\n      if (state.empty()) {\n        const text = app.translator.trans('fof-user-directory.forum.page.empty_text');\n        return <div className=\"DiscussionList\">{Placeholder.component({ text })}</div>;\n      }\n\n      let podiumUsers = state.users.slice(0, 3);\n      let remainingUsers = state.users.slice(3);\n      if (podiumUsers.length >= 2) {\n        [podiumUsers[0], podiumUsers[1]] = [podiumUsers[1], podiumUsers[0]];\n      }\n\n      return (\n        <div\n          className={\n            'UserDirectoryList' +\n            (state.isSearchResults() ? ' UserDirectoryList--searchResults' : '') +\n            (useSmallCards ? ' UserDirectoryList--small-cards' : '')\n          }\n        >\n          <ul className=\"UserDirectoryList-Podium-users\">\n            {podiumUsers.map((user: any, index: number) => {\n              return (\n                <li key={user.id()} data-id={user.id()}>\n                  {UserDirectoryListItem.component({ user, params, useSmallCards, isPodium: true, position: index + 1 })}\n                </li>\n              );\n            })}\n          </ul>\n          <ul className=\"UserDirectoryList-users\">\n            {remainingUsers.map((user: any, index: number) => {\n              return (\n                <li key={user.id()} data-id={user.id()}>\n                  {UserDirectoryListItem.component({ user, params, useSmallCards, isPodium: false, position: index + 4 })}\n                </li>\n              );\n            })}\n          </ul>\n          <div className=\"UserDirectoryList-loadMore\">{loading}</div>\n        </div>\n      );\n    });\n  }\n});\n"],"names":["__webpack_require__","module","getter","__esModule","d","a","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","flarum","core","compat","app","add","console","log","_setPrototypeOf","t","e","setPrototypeOf","bind","__proto__","_inheritsLoose","create","constructor","sortItem","joined","lastSeen","money","likesReceived","badges","PodiumUserCard","_UserCard","apply","arguments","infoItems","items","ItemList","user","this","attrs","sort","params","superItems","m","className","icon","trans","count","discussionCount","commentCount","includes","has","UserCard","PodiumUserItem","_Component","view","position","positionClass","displayPosition","component","controlsButtonClassName","Component","OrderUserCard","_proto","controls","UserControls","toArray","color","classList","style","length","Dropdown","menuClassName","buttonClassName","label","accessibleToggleLabel","editable","'['","AvatarEditor","username","Link","href","avatar","loading","listItems","extensions","_flarum$extensions$fo","_flarum$extensions$fo2","_flarum$extensions$fo3","_flarum$extensions$fo4","UserDirectoryPage","extend","attribute","remove","components","UserDirectoryListItem","UserDirectoryUserCard","SmallUserCard","override","original","_this$attrs","useSmallCards","isPodium","attributes","UserDirectoryList","state","getParams","isLoading","LoadingIndicator","moreResults","Button","onclick","loadMore","empty","text","Placeholder","podiumUsers","users","slice","remainingUsers","_ref","isSearchResults","map","index","id"],"sourceRoot":""}